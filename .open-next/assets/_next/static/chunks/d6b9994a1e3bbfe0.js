(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19455,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(91918),a=e.i(25913),n=e.i(75157);let o=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),s=r.forwardRef(({className:e,variant:r,size:a,asChild:s=!1,...l},c)=>{let u=s?i.Slot:"button";return(0,t.jsx)(u,{className:(0,n.cn)(o({variant:r,size:a,className:e})),ref:c,...l})});s.displayName="Button",e.s(["Button",()=>s])},61574,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(19455),a=e.i(95187);let n=(0,a.createServerReference)("604714385f05fa0881616e609f30417294c4e02f07",a.callServer,void 0,a.findSourceMapURL,"savePushSubscription");function o({appId:e,vapidKey:a,themeColor:o}){let[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null),[g,p]=(0,r.useState)("default"),[v,b]=(0,r.useState)(!1);async function h(t){try{if(!a)return;let r=t||await navigator.serviceWorker.ready,i=await r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),a=new Uint8Array(i.length);for(let e=0;e<i.length;++e)a[e]=i.charCodeAt(e);return a}(a)});await n(e,JSON.parse(JSON.stringify(i))),u(!0),console.log("Subscribed to notifications!")}catch(e){console.error("Failed to subscribe",e)}}async function w(){if(d){d.prompt();let{outcome:e}=await d.userChoice;"accepted"===e&&f(null)}}if((0,r.useEffect)(()=>{!async function(){if("serviceWorker"in navigator&&"PushManager"in window){l(!0);try{let e=await navigator.serviceWorker.register("/sw.js");console.log("SW registered: ",e);let t=await e.pushManager.getSubscription();t&&u(!0),p(Notification.permission),"granted"===Notification.permission&&a&&!t&&await h(e)}catch(e){console.log("SW registration failed: ",e)}}}();let e=e=>{e.preventDefault(),f(e)};window.addEventListener("beforeinstallprompt",e);let t=window.navigator;return b(!!(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||t.standalone)),()=>window.removeEventListener("beforeinstallprompt",e)},[]),!s||v)return null;console.log("Permission state:",g);let m={backgroundColor:o||"#01875f",color:"white"};return(0,t.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[!a&&(0,t.jsx)(i.Button,{disabled:!0,className:"w-full h-10 font-medium rounded-lg opacity-50",style:{backgroundColor:o||"#777",color:"white"},children:"Notifications unavailable"}),d?(0,t.jsx)(i.Button,{onClick:w,className:"w-full h-10 font-medium rounded-lg",style:m,children:"Install"}):(0,t.jsx)(i.Button,{disabled:!0,className:"w-full h-10 font-medium rounded-lg opacity-50",style:m,children:c?"Subscribed":"Install not available"})]})}e.s(["default",()=>o],61574)},47703,e=>{"use strict";var t=e.i(71645),r=e.i(95187);let i=(0,r.createServerReference)("60bedf7100e57a364d2271bb465ba995d2b38158ef",r.callServer,void 0,r.findSourceMapURL,"subscribeUser");function a({appId:e,vapidKey:r}){return(0,t.useEffect)(()=>{!async function(){if("serviceWorker"in navigator&&"PushManager"in window&&"granted"===Notification.permission)try{let t=await navigator.serviceWorker.ready,a=await t.pushManager.getSubscription();!a&&r&&(a=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(r),a=new Uint8Array(i.length);for(let e=0;e<i.length;++e)a[e]=i.charCodeAt(e);return a}(r)})),a&&await i(e,JSON.parse(JSON.stringify(a)))}catch{}}()},[e,r]),null}e.s(["default",()=>a],47703)}]);